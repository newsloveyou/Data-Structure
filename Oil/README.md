4. 网络放大器设置问题 

问题描述 

对于一个石油传输网络可由一个加权有向无环图 G 表示。该图中有一个称
为源点的顶点 S , 从 S 出发, 石油流向图中的其他顶点，S 的入度为 0，G 中每条
边上的权重为它所连接的两点间的距离。 在输送石油的过程中 , 需要有一定的压力才能使石油从一个顶点传输到另
一个顶点，但随着石油在网络中传输，压力会损失，压力的损失量是传输距离
的函数。
为了保证石油在网络的正常运输，在网络传输中必须保证在任何位置的压
力都要不小于最小压力 Pmin。为了维持这个最小压力，可在 G 中的一些或全部
顶点放置压力放大器, 压力放大器可以将压力恢复至该网络允许的最大压力Pmax。
设 d 为石油从压力 Pmax 降为 Pmin 所走的距离 , 在无压力放大器时石油可
输送的距离不超过 d 的情况下，要求在 G 中放置最少数量的放大器，使得该传
输网络从 S 出发，能够将石油输送到图中的所有其他顶点。 
 为了简化计算，可设每走一个单位长度就会降低一个单位压力且 Pmin=0，
即 d=Pmax-Pmin=Pmax。起点处的压力为 Pmax。为了尽可能保证石油的运输
（考虑到现实中某些管道可能损坏），首先我们保证所有通道都可以运输，即
最大边权值不超过 d；且如果顶点 x 有多条入边, x 处的压力为到达 x 处的压力
中的最小值。 
基本要求 

1. 设计并实现加权有向无环图的 ADT。 
2. 给出两种方法以解决上述问题，验证两种方法的正确性。 
3. 比较两种方法的时间和空间性能，用图表显示比较结果。 

程序正确性的验证要求 

你需要设计程序验证你所实现的方法的正确性，本次实验我们提供了示例数据
集供你验证程序的正确性。以下是关于此数据集的一些输入输出说明。 

输入文件 

第一行包含三个整数 [n, m, d] , 设源点 S 为 1 号顶点。 
 n 表示顶点个数 
 m 表示边的个数 
 d 表示石油从压力 Pmax 降为压力 Pmin 所走的距离。 
接下来 m 行 , 每行三个正整数[x, y, c]用来标识一条有向边。 
 x 表示起点 
 y 表示终点 
 c 表示边权 

输出文件 
一行一个整数 , 表示最少的放大器的个数
